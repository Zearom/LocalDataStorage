var LocalDataStorage=function(e){var t="",n=[],a=[],l=!1;this.getId=function(){return t},this.getStructure=function(){return n},this.isDebug=function(){return l},this.getRawRows=function(){return a},this.setDebug=function(e){l=e},this.addColumn=function(e){l&&console.info("LocalDataStorage.addColumn()");for(var t=0;t<n.length;t++){var a=n[t];if(a.name===e.name)return console.error('Column "'+e.name+'" already exists'),null}return void 0===e.type&&(e.type="string"),"string"!==e.type&&"number"!==e.type&&"boolean"!==e.type?(console.error('Column "'+e.name+'" does not support datatype "'+e.type+'"'),null):(void 0!==e.defaultvalue&&null!==e.defaultvalue?"string"===e.type?e.defaultvalue=this.validateValueString(e.defaultvalue):"number"===e.type?e.defaultvalue=this.validateValueNumber(e.defaultvalue):"boolean"===e.type&&(e.defaultvalue=this.validateValueBoolean(e.defaultvalue)):e.defaultvalue=null,void 0!==e.nullable&&null!==e.nullable?e.nullable!==!0&&e.nullable!==!1&&(e.nullable=!0):e.nullable=!0,n.push({name:e.name,type:e.type,defaultvalue:e.defaultvalue,nullable:e.nullable}),l&&console.info('Column "'+e.name+'" with type "'+e.type+'" added successfully'),!0)},this.addRow=function(t){l&&console.info("LocalDataStorage.addRow()");var u={};if(u.LDS_ROWGUID=this.createRowGuid(),u.LDS_ROWVERSION=this.getCurrentRowVersion(),void 0!==t&&null!==t)for(var o=0;o<n.length;o++){var i=n[o];void 0!==t[i.name]?"string"===i.type?u[i.name]=this.validateValueString(t[i.name]):"number"===i.type?u[i.name]=this.validateValueNumber(t[i.name]):"boolean"===i.type&&(u[i.name]=this.validateValueBoolean(t[i.name])):i.nullable===!1&&null===e.defaultvalue?console.error('Column "'+i.name+'" can not be null'):u[i.name]=e.defaultvalue}return l&&console.info(u),a.push(u),u},this.validateValueString=function(e){return String(e)},this.validateValueNumber=function(e){var t=parseInt(e);return isNaN(t)&&(t=0),t},this.validateValueBoolean=function(e){return"string"==typeof e?e="true"===e.toLowerCase()?!0:"false"===e.toLowerCase()?!1:null:"number"==typeof e?e=1===e?!0:0===e?!1:null:"object"==typeof e&&(e=null),e},this.getCurrentRowVersion=function(){return 0},this.createRowGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})},this.initiate=function(e){void 0!==e&&null!==e&&(void 0!==e.id&&null!==e.id&&(t=e.id),void 0!==e.debug&&null!==e.debug&&(l=e.debug)),l&&console.info("LocalDataStorage.initiate()")},this.initiate(e)};
//# sourceMappingURL=./datastorage.min.map