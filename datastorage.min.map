{"version":3,"file":"/Users/Zearom/LocalDataStorage/datastorage.min.js","sources":["datastorage.core.js"],"names":["LocalDataStorage","configuration","getRowIndexListBySelector","selector","view","rowList","viewIndexList","undefined","getRowIndexListInView","length","i","rows","LDS_DELETED","validateSelector","push","j","row","result","call","cloneRow","rawDataRow","structure","column","type","name","sortRow","a","b","sort","sortIndex","currentSort","direction","toUpperCase","isArray","value","Object","prototype","toString","event","eventname","scope","this","functionToCall","afterDataChanged","viewName","views","debug","console","log","persistencyController","id","databaseChangeVersion","getId","getStructure","isDebug","getRawRows","getPersistencyController","setDebug","addColumn","info","Error","substring","currentColumn","defaultvalue","validateValueString","validateValueNumber","validateValueBoolean","nullable","addRow","LDS_ROWGUID","createRowGuid","LDS_ROWVERSION","getCurrentRowVersion","error","newIndex","ex","message","select","limit","selectRow","resultSet","tmpResultSet","newSort","update","data","updateRow","updatedRowCount","currentDatabaseChangeVersion","rowUpdated","dataValue","l","shouldBeInView","rowExistsInView","pos","viewIndexListIteration","k","deleteRow","deletedRowCount","deletedRow","currentviewloop","String","numberValue","parseInt","isNaN","toLowerCase","increase","guid","_p8","s","p","Math","random","substr","createView","viewSelector","disableRebuild","rebuildView","deleteView","initiate","databasechangeversion","enablepersistency","LocalStoragePersistencyController","savedData","onInitiate","ls","dataLoadedSucessfully","isDataLoadedSucessfully","database","dbStructure","dbRows","dbSettings","window","localStorage","dbRawStructure","getItem","dbRawRows","dbRawSettings","JSON","parse","setItem","stringify"],"mappings":"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","sourceRoot":"./"}